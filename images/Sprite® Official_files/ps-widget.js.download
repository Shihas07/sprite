if(!PriceSpider || !PriceSpider["accountId"]){var PriceSpider=function(n){"use strict";var e=f(),t=l("ps-trace",!1),r=["widget","recipe","wtb4"],o=function(n){var e=n.filter((function(n){return r.indexOf(n)>=0}));return e.length?e:["widget"]};function i(){var n=s("ps-library");if(n)return o(n.split(",").map((function(n){return n.trim()})));var e=u("ps-library");return e?o(e.split(",").map((function(n){return n.trim()}))):["widget"]}function c(n,e,t){var r="widget"===n?"":"".concat(n,"/"),o="".concat(r).concat(e);return t?"".concat(o,"/debug/ps-").concat(n,".js"):"".concat(o,"/ps-").concat(n,".js")}function a(){for(var n=document.getElementsByTagName("script"),e=0;e<n.length;++e){var t=n[e];if(t.src.indexOf("ps-widget")>=0||t.src.indexOf("ps-loader")>=0)return t.src.substr(0,t.src.lastIndexOf("/")+1)}}function u(n){for(var e=document.getElementsByTagName("script"),t=0;t<e.length;++t){var r=e[t];if(r.src.indexOf("ps-widget")>=0||r.src.indexOf("ps-loader")>=0)return r.getAttribute("data-".concat(n))||r.getAttribute(n)}}function s(n){for(var e=document.head.getElementsByTagName("meta"),t=0;t<e.length;++t){var r=e[t];if(r.getAttribute("name")===n)return r.getAttribute("content")}}function d(n,t){return s(n)||e[n]||t}function l(n,e){void 0===e&&(e=!1);var t=d(n);if(t){var r=v(t);if(void 0!==r)return r}return e}function f(n,e){void 0===n&&(n=!0),void 0===e&&(e=!0);var t={},r=function(n){new URLSearchParams(n).forEach((function(n,e){var r=decodeURIComponent(n);""===n&&(r="true"),t[e]=r}))};return n&&window.location.search.length>1&&r(window.location.search),e&&window.location.hash&&r(window.location.hash),t}function v(n){return"true"===(n=n.toLowerCase())||"yes"===n||"false"!==n&&"no"!==n&&void 0}function p(n,e){var t=document.createElement("script");return t.src=n,t.type="text/javascript",t.charset="UTF-8",function(n,e,t){void 0===e.readyState?(e.onload=function(){return t(null,null)},e.onerror=function(){return t(function(n){var e=new Error("Not found");return e.name="LibraryLoader.loadScript",e.url=n,e.status=404,e}(n),null)}):e.onreadystatechange=function(){"loaded"!=e.readyState&&"complete"!=e.readyState||(e.onreadystatechange=null,t(null,null))};document.body?document.body.appendChild(e):document.head.appendChild(e);return g("GET",n),e}(n,t,e)}function g(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];t&&console.log.apply(console,n)}function b(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];t&&console.error.apply(console,n)}var h,m,w=Object.freeze({__proto__:null,params:e,traceEnabled:t,ensureValidLibrary:o,resolveLibraries:i,buildLibraryPath:c,getCodebaseUrl:a,getScriptParam:u,getMetaParam:s,getParam:d,getParamBoolean:l,getUrlParams:f,parseBoolean:v,parseUrlParams:function(n,e){for(var t=0,r=n;t<r.length;t++){var o=r[t],i=o.indexOf("="),c=i>=0?o.substr(0,i):o,a=i>=0?o.substr(i+1):void 0;c in e||"function"==typeof c?e[c]instanceof Array?e[c].push(a):e[c]=[e[c],a]:e[c]=a}},loadScript:p,trace:g,error:b});function y(n,e){m=e,h=p(n,(function(n){n&&e(n,null)}))}function E(n,e){var t=m;h&&h.parentElement.removeChild(h),h=void 0,m=void 0,t&&t(null,e)}var S,P=Object.freeze({__proto__:null,get element(){return h},get handler(){return m},load:y,onload:E}),L=l("ps-debug",!1),O="https://cdn.pricespider.com/1/",x=a()||O+"lib/",A=parseInt(s("ps-key"))||parseInt(s("ps-account"))||parseInt(u("ps-account")),B=i();function U(){A?(g("ps-account=".concat(A)),function(e,t){y("".concat(O).concat(e,"/config.js"),(function(r,o){r||(n.account=o,n.account.id=e,n.account.version||(n.account.version=null),n.account.configs||(n.account.configs=[]),n.account.versions||(n.account.versions={widget:null,recipe:null,wtb4:null})),t(r,null)}))}(A,(function(e){var t,r;if(e)b("Unable to load library, failed to load account configuration ps-account="+A,e);else{var o=d("ps-version")||d("ps-widget-version");n.version=o||n.account.version,n.versions={widget:n.version,recipe:d("ps-recipe-version")||(null===(t=n.account.versions)||void 0===t?void 0:t.recipe)||n.version,wtb4:d("ps-wtb4-version")||(null===(r=n.account.versions)||void 0===r?void 0:r.wtb4)||n.version},S?_():C()}}))):b("Unable to load library, missing or invalid ps-account meta tag")}function _(){n.version?B.forEach((function(e){var t=n.versions[e],r=c(e,t,L);p("".concat(x).concat(r),(function(n){n?b("Failed to load library ps-version=".concat(t),n):g("Loaded library ps-version=".concat(t))}))})):b("Unable to load library, missing or invalid library version")}function C(){if(n.account){var e=d("ps-widget-loader-check")||n.account.widgetLoaderCheck||"none";"visibility"===e?(B.forEach((function(n){switch(n){case"widget":t=document.querySelectorAll(".ps-widget");break;case"wtb4":t=document.querySelectorAll(".ps-ng-widget")}})),I(t,void 0),window.addEventListener("load",(function(){return I(t,void 0)}),{once:!0})):"existence"===e?function(){var n;B.forEach((function(e){switch(e){case"widget":n=document.querySelectorAll(".ps-widget");break;case"wtb4":n=document.querySelectorAll(".ps-ng-widget")}})),n.length&&_()}():_()}else U();var t}function I(n,e){n&&(e=new IntersectionObserver((function(t){t.forEach((function(t){t.intersectionRatio>.01&&(n.forEach((function(n){e.unobserve(n)})),e.disconnect,_())}))}),{threshold:.01}),n.forEach((function(n){e.observe(n)})))}U();var j=[];return n.Jsonp=P,n.LibraryLoader=w,n.accountId=A,n.debug=L,n.deferredWidgets=j,n.insertWidget=function(e){"WidgetBinder"in PriceSpider?PriceSpider.WidgetBinder.insert(e):(n.account?_():S=!0,j.push(e))},n.onload=E,n.rebind=function(){C(),"WidgetBinder"in PriceSpider&&PriceSpider.WidgetBinder.bind()},n}({});
}